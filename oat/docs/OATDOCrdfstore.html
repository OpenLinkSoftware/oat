<html>
<head>
    <title>OpenLink AJAX Toolkit</title>
    <link rel="STYLESHEET" type="text/css" href="oat.css"/>
  </head>

<body>
  <div class="topic-text">
    

    <div id="oatnav">
        <a href="index.html">Index</a> | 
      <a href="http://oat.openlinksw.com/" target="_new">OAT homepage</a> | 
      <a href="http://www.openlinksw.com/" target="_new">OpenLink Software</a>
      </div>

    
    

    <h2>
    rdfstore.js</h2>

    <p>Client-side RDF store. (see <a href="OATDOCrdfbrowser.html">RDF Browser</a>)</p>

    <div class="wikitoc">
      <ul>
        <li>
            <label class="c2">_</label>
            <label class="c2">_</label>
        <a href="#rdfstore.js">rdfstore.js</a>
          </li>

        <li>
            <label class="c2">_</label>
            <label class="c2">_</label>
            <label class="c2">_</label>
            <label class="c2">_</label> <a href="#Objects">Objects</a>
          </li>

        <li>
            <label class="c2">_</label>
            <label class="c2">_</label>
            <label class="c2">_</label>
            <label class="c2">_</label>
            <label class="c2">_</label>
            <label class="c2">_</label> <a href="#OAT.RDFStore(callback,%20options)">OAT.RDFStore(callback,
        options)</a>
          </li>

        <li>
            <label class="c2">_</label>
            <label class="c2">_</label>
            <label class="c2">_</label>
            <label class="c2">_</label> <a href="#Properties">Properties</a>
          </li>

        <li>
            <label class="c2">_</label>
            <label class="c2">_</label>
            <label class="c2">_</label>
            <label class="c2">_</label>
            <label class="c2">_</label>
            <label class="c2">_</label> <a href="#OAT.RDFStore::data.triples">OAT.RDFStore::data.triples</a>
          </li>

        <li>
            <label class="c2">_</label>
            <label class="c2">_</label>
            <label class="c2">_</label>
            <label class="c2">_</label>
            <label class="c2">_</label>
            <label class="c2">_</label> <a href="#OAT.RDFStore::data.all">OAT.RDFStore::data.all</a>
          </li>

        <li>
            <label class="c2">_</label>
            <label class="c2">_</label>
            <label class="c2">_</label>
            <label class="c2">_</label>
            <label class="c2">_</label>
            <label class="c2">_</label> <a href="#OAT.RDFStore::data.structured">OAT.RDFStore::data.structured</a>
          </li>

        <li>
            <label class="c2">_</label>
            <label class="c2">_</label>
            <label class="c2">_</label>
            <label class="c2">_</label> <a href="#Methods">Methods</a>
          </li>

        <li>
            <label class="c2">_</label>
            <label class="c2">_</label>
            <label class="c2">_</label>
            <label class="c2">_</label>
            <label class="c2">_</label>
            <label class="c2">_</label> <a href="#OAT.RDFStore::addURL(url,%20onstart,%20onend)">OAT.RDFStore::addURL(url,
        onstart, onend)</a>
          </li>

        <li>
            <label class="c2">_</label>
            <label class="c2">_</label>
            <label class="c2">_</label>
            <label class="c2">_</label>
            <label class="c2">_</label>
            <label class="c2">_</label> <a href="#OAT.RDFStore::addTriples(triplesArray,%20url)">OAT.RDFStore::addTriples(triplesArray,
        url)</a>
          </li>

        <li>
            <label class="c2">_</label>
            <label class="c2">_</label>
            <label class="c2">_</label>
            <label class="c2">_</label>
            <label class="c2">_</label>
            <label class="c2">_</label> <a href="#OAT.RDFStore::addXmlDoc(xmlDoc,%20url)">OAT.RDFStore::addXmlDoc(xmlDoc,
        url)</a>
          </li>

        <li>
            <label class="c2">_</label>
            <label class="c2">_</label>
            <label class="c2">_</label>
            <label class="c2">_</label>
            <label class="c2">_</label>
            <label class="c2">_</label> <a href="#OAT.RDFStore::getTitle(itemReference)">OAT.RDFStore::getTitle(itemReference)</a>
          </li>

        <li>
            <label class="c2">_</label>
            <label class="c2">_</label>
            <label class="c2">_</label>
            <label class="c2">_</label>
            <label class="c2">_</label>
            <label class="c2">_</label> <a href="#OAT.RDFStore::simplify(string)">OAT.RDFStore::simplify(string)</a>
          </li>

        <li>
            <label class="c2">_</label>
            <label class="c2">_</label>
            <label class="c2">_</label>
            <label class="c2">_</label>
            <label class="c2">_</label>
            <label class="c2">_</label> <a href="#OAT.RDFStore::addFilter(type,%20value1,%20[value2])">OAT.RDFStore::addFilter(type,
        value1, [value2])</a>
          </li>

        <li>
            <label class="c2">_</label>
            <label class="c2">_</label>
            <label class="c2">_</label>
            <label class="c2">_</label>
            <label class="c2">_</label>
            <label class="c2">_</label> <a href="#OAT.RDFStore::removeFilter(type,%20value1,%20[value2])">OAT.RDFStore::removeFilter(type,
        value1, [value2])</a>
          </li>

        <li>
            <label class="c2">_</label>
            <label class="c2">_</label>
            <label class="c2">_</label>
            <label class="c2">_</label>
            <label class="c2">_</label>
            <label class="c2">_</label> <a href="#OAT.RDFStore::disable(url)">OAT.RDFStore::disable(url)</a>
          </li>

        <li>
            <label class="c2">_</label>
            <label class="c2">_</label>
            <label class="c2">_</label>
            <label class="c2">_</label>
            <label class="c2">_</label>
            <label class="c2">_</label> <a href="#OAT.RDFStore::enable(url)">OAT.RDFStore::enable(url)</a>
          </li>

        <li>
            <label class="c2">_</label>
            <label class="c2">_</label>
            <label class="c2">_</label>
            <label class="c2">_</label> <a href="#Constants">Constants</a>
          </li>

        <li>
            <label class="c2">_</label>
            <label class="c2">_</label>
            <label class="c2">_</label>
            <label class="c2">_</label> <a href="#CSS%20IDs">CSS IDs</a>
          </li>
      </ul>
    </div>

    <h3> Objects</h3>

    <h4>OAT.RDFStore(callback,
    options)</h4>Creates the object. Argument callback is executed
    every time store's contents change. Available options
    (properties of options object) are:

    <ul>
      <li>ajaxStart - function to be executed when dereferencing
      starts</li>

      <li>ajaxEnd - function to be executed when dereferencing
      stops</li>
    </ul>

    <h3> Properties</h3>

    <h4>OAT.RDFStore::data.triples</h4>All
    loaded data in a big array of triples (array of arrays).

    <h4>OAT.RDFStore::data.all</h4>All
    loaded data in a complex JSON object, as shown below.<br/>
    <pre>
[
        {
                preds:{
                        "http://www.w3.org/1999/02/22-rdf-syntax-ns#type":[
                                "http://www.w3.org/2000/10/swap/pim/contact#Male", 
                                "http://xmlns.com/foaf/0.1/Person"
                        ],
                        "http://www.w3.org/2000/01/rdf-schema#label":["Tim Berners-Lee"], 
                        "http://www.w3.org/2000/10/swap/pim/contact#assistant":[{...}], 
                        "http://www.w3.org/2000/10/swap/pim/contact#homePage":["./"], 
                        "http://www.w3.org/2000/10/swap/pim/contact#office":[{...}]
                },
                ouri:"samples/tbl.xml",
                type:"http://xmlns.com/foaf/0.1/PersonalProfileDocument",
                uri:"_:832_0", 
                back:[{...}]
        }, 
        ...
]
</pre>

    <h4>OAT.RDFStore::data.structured</h4>Loaded
    data after filters have been applied. Same structure as
    data.all.

    <h3> Methods</h3>

    <h4>OAT.RDFStore::addURL(url,
    onstart, onend)</h4>Dereferences url and adds its contents to
    store. Two remaining arguments are used to override global
    ajaxStart and ajaxEnd parameters.

    <h4>OAT.RDFStore::addTriples(triplesArray,
    url)</h4>Adds an array of triples (triplesArray) to storage.
    The url specifies the address from where these triples
    originate.

    <h4>OAT.RDFStore::addXmlDoc(xmlDoc,
    url)</h4>Adds an XML document (fetched by OAT.AJAX.GET for
    instance) to storage. The url specifies the address from where
    this document originates.

    <h4>OAT.RDFStore::getTitle(itemReference)</h4>Returns
    a reasonable title (falls back to URI) of an item in storage.

    <h4>OAT.RDFStore::simplify(string)</h4>Simplifies
    an URI by removing as much as possible (leaving the part after
    '#' or '/').

    <h4>OAT.RDFStore::addFilter(type,
    value1, [value2])</h4>Applies a pass filter to store contents.
    Filter type is specified as one of available constants. For
    FILTER_PROPERTY, both 2nd and 3rd arguments should be used:
    these specify predicate value and object value (only resources
    having this P and O will pass). For FILTER_URI, only 2nd
    argument should be used: this value specifies an URI to be
    filtered (only resources having this URI as O or S will pass).

    <h4>OAT.RDFStore::removeFilter(type,
    value1, [value2])</h4>Removes a previously set filter; syntax
    is the same as in addFilter.

    <h4>OAT.RDFStore::disable(url)</h4>Temporarily
    disables (removes) all triples originating from URL from the
    store. URL must be dereferenced.

    <h4>OAT.RDFStore::enable(url)</h4>Re-enables
    previously disabled URL, so its contents are loaded in a store.
    URL must be dereferenced.<br/>
    <pre>
var callback = function() {
        alert("Store contents have changed, check them out!");
}
var store = new OAT.RDFStore(callback, {});
store.addURL("myRDF.n3");
</pre>

    <h3> Constants</h3>

    <ul>
      <li>OAT.RDFStoreData.FILTER_PROPERTY</li>

      <li>OAT.RDFStoreData.FILTER_URI</li>
    </ul>

    <h3> CSS IDs</h3>

    <ul>
      <li>rdf_side</li>

      <li>rdf_cache</li>

      <li>rdf_filter</li>

      <li>rdf_tabs</li>

      <li>rdf_content</li>
    </ul>

    
    

    <div id="oatcopy">
      Copyright (C) 
      <a href="http://www.openlinksw.com/">OpenLink Software</a> 
      2005-2008
    </div>
  </div>
</body>
</html>

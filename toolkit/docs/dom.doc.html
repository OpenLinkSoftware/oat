<h2>dom.js</h2>
<p>This is the basic library. Can be considered a toolkit on its own, as it provides many useful functions and shortcuts.</p>
<hr/>
<h3>Functions</h3>
<ul>
	<li><a href="#$">$(element)</a></li>
	<li><a href="#$$">$$(element)</a></li>
	<li><a href="#$v">$v(element)</a></li>
	<li><a href="#create">OAT.Dom.create(tagName, [styleObj])</a></li>
	<li><a href="#text">OAT.Dom.text(text)</a></li>
	<li><a href="#option">OAT.Dom.option(name, value, [parent])</a></li>
	<li><a href="#hide">OAT.Dom.hide(element)</a></li>
	<li><a href="#show">OAT.Dom.show(element)</a></li>
	<li><a href="#clear">OAT.Dom.clear(element)</a></li>
	<li><a href="#unlink">OAT.Dom.unlink(element)</a></li>
	<li><a href="#ischild">OAT.Dom.isChild(child, parent)</a></li>
	<li><a href="#hex2dec">OAT.Dom.hex2dec(hex_str)</a></li>
	<li><a href="#color">OAT.Dom.color(str)</a></li>
	<li><a href="#isclass">OAT.Dom.isClass(element, className)</a></li>
	<li><a href="#collide">OAT.Dom.collide(element_1, element_2)</a></li>
	<li><a href="#attach">OAT.Dom.attach(element, event, callback)</a></li>
	<li><a href="#detach">OAT.Dom.detach(element, event, callback)</a></li>
	<li><a href="#source">OAT.Dom.source(event)</a></li>
	<li><a href="#style">OAT.Dom.style(element, property)</a></li>
	<li><a href="#position">OAT.Dom.position(element)</a></li>
	<li><a href="#getlt">OAT.Dom.getLT(element)</a></li>
	<li><a href="#getwh">OAT.Dom.getWH(element)</a></li>
	<li><a href="#moveby">OAT.Dom.moveBy(element, dx, dy)</a></li>
	<li><a href="#resizeby">OAT.Dom.resizeBy(element, dx, dy)</a></li>
	
</ul>
<hr/>

<h3><a name="$">$(element)</a></h3>
<p>This function is very popular and appears in almost every JS framework available. Its purpose
is to provide a shortcut for longer <code>document.getElementById()</code> functions. Basic usage is:</p>
<p class="code">var object = $("some_id");<br/>alert(object.tagName);</p>
<p>In this example, we assume that there is a HTML node with id "some_id". The $-function converts a string to the object.
Note that it is perfectly correct to pass an object reference to $-function, although not very useful.</p>
<p>Due to the presence of this function in toolkit, every other function that accepts a node reference as an argument can also accept its id.</p>
		
<h3><a name="$$">$$(element)</a></h3>
<p>See <a href="#$v">$v(element)</a>.</p>

<h3><a name="$v">$v(element)</a></h3>
<p>This function is identical to <code>$$()</code>. They are shortcuts for <code>$().value</code>. You should use them
when getting a value of any form element.</p>

<h3><a name="create">OAT.Dom.create(tagName, [styleObj])</a></h3>
<p>Used for dynamic creation of HTML nodes. Two parameters are accepted, the first one is mandatory. Example:</p>
<p class="code">
	var myDiv = OAT.Dom.create("div");
	var myStyledDiv = OAT.Dom.create("div", {color : "#f00", fontWeight : "bold"});
</p>
<p>The second (optional) argument <em>styleObj</em> is an object comprised of CSS properties. For a full list of valid properties, see 
	<a href="http://developer.mozilla.org/en/docs/Dom:CSS">Mozilla documentation</a> and <a href="http://msdn.microsoft.com/workshop/author/dhtml/reference/objects/obj_style.asp">MSDN</a>.
	CSS properties are not the same for these browsers, so specifying a floating element looks like
	<code>var element = OAT.Dom.create("div", {cssFloat:"left", styleFloat:"left"});</code> - the first declaration is for Gecko, the latter for MSIE.
</p>

<h3><a name="text">OAT.Dom.text(text)</a></h3>
<p>Creates and returns DOM text node with value of argument <em>text</em>.</p>

<h3><a name="option">OAT.Dom.option(name, value, [parent])</a></h3>
<p>Creates and returns DOM &lt;option&gt; node with name of <em>name</em> and value of <em>value</em>. 
If <em>parent</em> is specified, this function also appends newly created node to that parent. Example:</p>
<p class="code">
	var s = OAT.Dom.create("select");
	OAT.Dom.option("apples",1,s);
	OAT.Dom.option("bananas",2,s);
	OAT.Dom.option("cherries",3,s);
</p>

<h3><a name="hide">OAT.Dom.hide(element)</a></h3>
<p>Hides specified <em>element</em> by setting its <code>style.visibility<code> property.</p>

<h3><a name="show">OAT.Dom.show(element)</a></h3>
<p>Unhides previously hidden <em>element</em> by setting its <code>style.visibility<code> to default value.</p>

<h3><a name="clear">OAT.Dom.clear(element)</a></h3>
<p>This function clears all child nodes from an element. May be called with either object reference as an argument, or a id-string. So, for instance:</p>
<p class="code">OAT.Dom.clear("my_select_element");</p>
<p>removes all options from existing &lt;select&gt; element with id "my_select_element".</p>


<h3><a name="unlink">OAT.Dom.unlink(element)</a></h3>
<p>Unlinks <em>element</em> from DOM tree. Notice that the element is not destroyed as long as it can be referenced.</p>

<h3><a name="ischild">OAT.Dom.isChild(child, parent)</a></h3>
<p>Tests whether a <em>child</em> is a subnode of node <em>parent</em>. The depth is not important here.</p>


<h3><a name="hex2dec">OAT.Dom.hex2dec(hex_str)</a></h3>
<p>Converts a hexadecimal string <em>hex_str</em> to a decimal number. Example:</p>
<p class="code">alert( OAT.Dom.hex2dec("fab") ); // 4011 </p>

<h3><a name="color">OAT.Dom.color(str)</a></h3>
<p>Returns an array of three elements, representing the red, green, and blue portions of the color specified in <em>str</em>. 
Input should be a valid css color specification, i.e. <code>#02bacf</code>, <code>#ba7</code> or <code>rgb(150,5,102)</code>. Example:</p>
<p class="code">var colors = OAT.Dom.color("#abc");<br/>
alert("Green part: "+colors[1]);</p>

<h3><a name="isclass">OAT.Dom.isClass(element, className)</a></h3>
HTML elements may be of multiple classes, this function 
returns <code>true</code> when at least one of <em>element</em>'s classes is <em>className</em>. Example:</p>
<p class="code">
	var div = OAT.Dom.create("div");
	div.className = "big red fox";
	alert( OAT.Dom.isClass(div,"fox"); ); // true
</p>

<h3><a name="collide">OAT.Dom.collide(element_1, element_2)</a></h3>
<p>Tests whether two elements overlap. HTML elements have a rectangular shape, so this function basically tests whether 
intersection of <em>element_1</em> and <em>element_2</em> is nonempty.</p>

<h3><a name="attach">OAT.Dom.attach(element, event, callback)</a></h3>
<p>Attaches function specified with <em>callback</em> to <em>event</em> detected on <em>element</em>. 
The <em>event</em> is specified without the "on" prefix. Function reference <em>callback</em> will be called with 
one argument, the event object reference. Example:</p>
<p class="code">OAT.Dom.attach("myDiv", "click", function() { alert("!"); });</p>

<h3><a name="detach">OAT.Dom.detach(element, event, callback)</a></h3>
<p>Removes attached <em>callback</em> from <em>element</em> fired with <em>event</em>. Note that only non-anonymous functions
 can be detached.</p>

<h3><a name="source">OAT.Dom.source(event)</a></h3>
<p>Converts <em>event</em> to reference to element which fired it. This can be useful when multiple elements 
fire the same callback and one needs to know which element fired it. Example:</p>
<pre><p class="code">var callback = function(event) {
	var id = OAT.Dom.source(event).id;
	alert("Event fired by " + id);
}
var div = OAT.Dom.create("div");
div.id = "myDiv";
OAT.Dom.attach(div, "click", callback);
</p></pre>

<h3><a name="style">OAT.Dom.style(element, property)</a></h3>
<p>Returns a style <em>property</em> of <em>element</em>. This is different from accessing the <code>element.style.property</code> value,
as this function returns the computed style (i.e., set by stylesheets, etc.) instead of a dynamically created one. Example:</p>
<p class="code">
	var family = OAT.Dom.style("elementId", "fontFamily");<br/>
	alert(family); // returns actual font-family for this element, wherever it is set
</p>

<h3><a name="position">OAT.Dom.position(element)</a></h3>
<p>Returns x and y coordinates of <em>element</em>'s top left corner, relative to page's top left corner. 
Coordinates are returned in an array of two elements. To count this value, the whole tree of <code>offsetParent</code>s must be 
climbed up, so it is not wise to call this function too often. Example:</p>
<p class="code">
var coords = OAT.Dom.position(div);<br/>
alert("x: " + coords[0]+", y:" + coords[1]);
</p>

<h3><a name="getlt">OAT.Dom.getLT(element)</a></h3>
<p>Returns x and y coordinates of <em>element</em>'s top left corner, relative to its <code>offsetParent</code>, 
in form of array with two elements.</p>

<h3><a name="getwh">OAT.Dom.getWH(element)</a></h3>
<p>Returns width and height of <em>element</em> (in pixels), in form of array with two elements.</p>

<h3><a name="moveby">OAT.Dom.moveBy(element, dx, dy)</a></h3>
<p>Moves <em>element</em> by <em>dx</em> pixels horizontally and <em>dy</em> pixels vertically.</p>

<h3><a name="resizeby">OAT.Dom.resizeBy(element, dx, dy)</a></h3>
<p>Resizes <em>element</em> by <em>dx</em> pixels horizontally and <em>dy</em> pixels vertically.</p>
